735f1d2bdedef44770a3e81492522106
var _interopRequireWildcard = require("@babel/runtime/helpers/interopRequireWildcard");

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

Object.defineProperty(exports, "__esModule", {
  value: true
});
exports.default = void 0;

var _defineProperty2 = _interopRequireDefault(require("@babel/runtime/helpers/defineProperty"));

var _objectWithoutProperties2 = _interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties"));

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _possibleConstructorReturn2 = _interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn"));

var _getPrototypeOf2 = _interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf"));

var _inherits2 = _interopRequireDefault(require("@babel/runtime/helpers/inherits"));

var React = _interopRequireWildcard(require("react"));

var _reactNative = require("react-native");

var _color = _interopRequireDefault(require("color"));

var _Text = _interopRequireDefault(require("../Typography/Text"));

function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }

function _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { (0, _defineProperty2.default)(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }

var AnimatedText = _reactNative.Animated.createAnimatedComponent(_Text.default);

var OUTLINE_MINIMIZED_LABEL_Y_OFFSET = -29;
var MAXIMIZED_LABEL_FONT_SIZE = 16;
var MINIMIZED_LABEL_FONT_SIZE = 12;
var LABEL_WIGGLE_X_OFFSET = 4;
var LABEL_PADDING_HORIZONTAL = 12;
var RANDOM_VALUE_TO_CENTER_LABEL = 4;

var TextInputOutlined = function (_React$Component) {
  (0, _inherits2.default)(TextInputOutlined, _React$Component);

  function TextInputOutlined() {
    (0, _classCallCheck2.default)(this, TextInputOutlined);
    return (0, _possibleConstructorReturn2.default)(this, (0, _getPrototypeOf2.default)(TextInputOutlined).apply(this, arguments));
  }

  (0, _createClass2.default)(TextInputOutlined, [{
    key: "render",
    value: function render() {
      var _this$props = this.props,
          disabled = _this$props.disabled,
          label = _this$props.label,
          error = _this$props.error,
          selectionColor = _this$props.selectionColor,
          underlineColor = _this$props.underlineColor,
          style = _this$props.style,
          theme = _this$props.theme,
          render = _this$props.render,
          multiline = _this$props.multiline,
          parentState = _this$props.parentState,
          innerRef = _this$props.innerRef,
          onFocus = _this$props.onFocus,
          onBlur = _this$props.onBlur,
          onChangeText = _this$props.onChangeText,
          onLayoutAnimatedText = _this$props.onLayoutAnimatedText,
          rest = (0, _objectWithoutProperties2.default)(_this$props, ["disabled", "label", "error", "selectionColor", "underlineColor", "style", "theme", "render", "multiline", "parentState", "innerRef", "onFocus", "onBlur", "onChangeText", "onLayoutAnimatedText"]);
      var colors = theme.colors,
          fonts = theme.fonts;
      var fontFamily = fonts.regular;
      var hasActiveOutline = parentState.focused || error;

      var _ref = _reactNative.StyleSheet.flatten(style) || {},
          _ref$backgroundColor = _ref.backgroundColor,
          backgroundColor = _ref$backgroundColor === void 0 ? colors.background : _ref$backgroundColor;

      var inputTextColor, activeColor, outlineColor, placeholderColor, containerStyle;

      if (disabled) {
        inputTextColor = activeColor = (0, _color.default)(colors.text).alpha(0.54).rgb().string();
        placeholderColor = outlineColor = colors.disabled;
      } else {
        inputTextColor = colors.text;
        activeColor = error ? colors.error : colors.primary;
        placeholderColor = outlineColor = colors.placeholder;
      }

      var labelHalfWidth = parentState.labelLayout.width / 2;
      var baseLabelTranslateX = (_reactNative.I18nManager.isRTL ? 1 : -1) * (1 - MINIMIZED_LABEL_FONT_SIZE / MAXIMIZED_LABEL_FONT_SIZE) * labelHalfWidth;
      var labelStyle = {
        fontFamily: fontFamily,
        fontSize: MAXIMIZED_LABEL_FONT_SIZE,
        transform: [{
          translateX: parentState.error.interpolate({
            inputRange: [0, 0.5, 1],
            outputRange: [0, parentState.value && error ? LABEL_WIGGLE_X_OFFSET : 0, 0]
          })
        }, {
          translateY: parentState.labeled.interpolate({
            inputRange: [0, 1],
            outputRange: [OUTLINE_MINIMIZED_LABEL_Y_OFFSET, 0]
          })
        }, {
          scale: parentState.labeled.interpolate({
            inputRange: [0, 1],
            outputRange: [MINIMIZED_LABEL_FONT_SIZE / MAXIMIZED_LABEL_FONT_SIZE, 1]
          })
        }, {
          translateX: parentState.labeled.interpolate({
            inputRange: [0, 1],
            outputRange: [baseLabelTranslateX > 0 ? baseLabelTranslateX + labelHalfWidth / LABEL_PADDING_HORIZONTAL - RANDOM_VALUE_TO_CENTER_LABEL : baseLabelTranslateX - labelHalfWidth / LABEL_PADDING_HORIZONTAL + RANDOM_VALUE_TO_CENTER_LABEL, 0]
          })
        }]
      };
      return React.createElement(_reactNative.View, {
        style: [containerStyle, style]
      }, React.createElement(_reactNative.View, {
        pointerEvents: "none",
        style: [styles.outline, {
          borderRadius: theme.roundness,
          borderWidth: hasActiveOutline ? 2 : 1,
          borderColor: hasActiveOutline ? activeColor : outlineColor
        }]
      }), label ? React.createElement(AnimatedText, {
        pointerEvents: "none",
        style: [styles.outlinedLabelBackground, {
          backgroundColor: backgroundColor,
          fontFamily: fontFamily,
          fontSize: MINIMIZED_LABEL_FONT_SIZE,
          opacity: parentState.labeled.interpolate({
            inputRange: [0, 0.9, 1],
            outputRange: [1, 1, 0]
          }),
          transform: [{
            scaleX: parentState.labeled.interpolate({
              inputRange: [0, 1],
              outputRange: [1, 0]
            })
          }]
        }],
        numberOfLines: 1
      }, label) : null, label ? React.createElement(_reactNative.View, {
        pointerEvents: "none",
        style: [_reactNative.StyleSheet.absoluteFill, {
          opacity: parentState.value || parentState.focused ? parentState.labelLayout.measured ? 1 : 0 : 1
        }]
      }, React.createElement(AnimatedText, {
        onLayout: onLayoutAnimatedText,
        style: [styles.placeholder, styles.placeholderOutlined, labelStyle, {
          color: activeColor,
          opacity: parentState.labeled.interpolate({
            inputRange: [0, 1],
            outputRange: [hasActiveOutline ? 1 : 0, 0]
          })
        }],
        numberOfLines: 1
      }, label), React.createElement(AnimatedText, {
        style: [styles.placeholder, styles.placeholderOutlined, labelStyle, {
          color: placeholderColor,
          opacity: hasActiveOutline ? parentState.labeled : 1
        }],
        numberOfLines: 1
      }, label)) : null, render(_objectSpread({}, rest, {
        ref: innerRef,
        onChangeText: onChangeText,
        placeholder: label ? parentState.placeholder : this.props.placeholder,
        placeholderTextColor: placeholderColor,
        editable: !disabled,
        selectionColor: typeof selectionColor === 'undefined' ? activeColor : selectionColor,
        onFocus: onFocus,
        onBlur: onBlur,
        underlineColorAndroid: 'transparent',
        multiline: multiline,
        style: [styles.input, styles.inputOutlined, {
          color: inputTextColor,
          fontFamily: fontFamily,
          textAlignVertical: multiline ? 'top' : 'center'
        }]
      })));
    }
  }]);
  return TextInputOutlined;
}(React.Component);

TextInputOutlined.defaultProps = {
  disabled: false,
  error: false,
  multiline: false,
  editable: true,
  render: function render(props) {
    return React.createElement(_reactNative.TextInput, props);
  }
};
var _default = TextInputOutlined;
exports.default = _default;

var styles = _reactNative.StyleSheet.create({
  placeholder: {
    position: 'absolute',
    left: 0,
    fontSize: 16,
    paddingHorizontal: LABEL_PADDING_HORIZONTAL
  },
  placeholderOutlined: {
    top: 25
  },
  outline: {
    position: 'absolute',
    left: 0,
    right: 0,
    top: 6,
    bottom: 0
  },
  outlinedLabelBackground: {
    position: 'absolute',
    top: 0,
    left: 8,
    paddingHorizontal: 4,
    color: 'transparent'
  },
  input: {
    flexGrow: 1,
    paddingHorizontal: 12,
    fontSize: 16,
    margin: 0,
    minHeight: 58,
    textAlign: _reactNative.I18nManager.isRTL ? 'right' : 'left',
    zIndex: 1
  },
  inputOutlined: {
    paddingTop: 20,
    paddingBottom: 16,
    minHeight: 64
  }
});
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRleHRJbnB1dE91dGxpbmVkLmpzIl0sIm5hbWVzIjpbIkFuaW1hdGVkVGV4dCIsIkFuaW1hdGVkIiwiY3JlYXRlQW5pbWF0ZWRDb21wb25lbnQiLCJUZXh0IiwiT1VUTElORV9NSU5JTUlaRURfTEFCRUxfWV9PRkZTRVQiLCJNQVhJTUlaRURfTEFCRUxfRk9OVF9TSVpFIiwiTUlOSU1JWkVEX0xBQkVMX0ZPTlRfU0laRSIsIkxBQkVMX1dJR0dMRV9YX09GRlNFVCIsIkxBQkVMX1BBRERJTkdfSE9SSVpPTlRBTCIsIlJBTkRPTV9WQUxVRV9UT19DRU5URVJfTEFCRUwiLCJUZXh0SW5wdXRPdXRsaW5lZCIsInByb3BzIiwiZGlzYWJsZWQiLCJsYWJlbCIsImVycm9yIiwic2VsZWN0aW9uQ29sb3IiLCJ1bmRlcmxpbmVDb2xvciIsInN0eWxlIiwidGhlbWUiLCJyZW5kZXIiLCJtdWx0aWxpbmUiLCJwYXJlbnRTdGF0ZSIsImlubmVyUmVmIiwib25Gb2N1cyIsIm9uQmx1ciIsIm9uQ2hhbmdlVGV4dCIsIm9uTGF5b3V0QW5pbWF0ZWRUZXh0IiwicmVzdCIsImNvbG9ycyIsImZvbnRzIiwiZm9udEZhbWlseSIsInJlZ3VsYXIiLCJoYXNBY3RpdmVPdXRsaW5lIiwiZm9jdXNlZCIsIlN0eWxlU2hlZXQiLCJmbGF0dGVuIiwiYmFja2dyb3VuZENvbG9yIiwiYmFja2dyb3VuZCIsImlucHV0VGV4dENvbG9yIiwiYWN0aXZlQ29sb3IiLCJvdXRsaW5lQ29sb3IiLCJwbGFjZWhvbGRlckNvbG9yIiwiY29udGFpbmVyU3R5bGUiLCJ0ZXh0IiwiYWxwaGEiLCJyZ2IiLCJzdHJpbmciLCJwcmltYXJ5IiwicGxhY2Vob2xkZXIiLCJsYWJlbEhhbGZXaWR0aCIsImxhYmVsTGF5b3V0Iiwid2lkdGgiLCJiYXNlTGFiZWxUcmFuc2xhdGVYIiwiSTE4bk1hbmFnZXIiLCJpc1JUTCIsImxhYmVsU3R5bGUiLCJmb250U2l6ZSIsInRyYW5zZm9ybSIsInRyYW5zbGF0ZVgiLCJpbnRlcnBvbGF0ZSIsImlucHV0UmFuZ2UiLCJvdXRwdXRSYW5nZSIsInZhbHVlIiwidHJhbnNsYXRlWSIsImxhYmVsZWQiLCJzY2FsZSIsInN0eWxlcyIsIm91dGxpbmUiLCJib3JkZXJSYWRpdXMiLCJyb3VuZG5lc3MiLCJib3JkZXJXaWR0aCIsImJvcmRlckNvbG9yIiwib3V0bGluZWRMYWJlbEJhY2tncm91bmQiLCJvcGFjaXR5Iiwic2NhbGVYIiwiYWJzb2x1dGVGaWxsIiwibWVhc3VyZWQiLCJwbGFjZWhvbGRlck91dGxpbmVkIiwiY29sb3IiLCJyZWYiLCJwbGFjZWhvbGRlclRleHRDb2xvciIsImVkaXRhYmxlIiwidW5kZXJsaW5lQ29sb3JBbmRyb2lkIiwiaW5wdXQiLCJpbnB1dE91dGxpbmVkIiwidGV4dEFsaWduVmVydGljYWwiLCJSZWFjdCIsIkNvbXBvbmVudCIsImRlZmF1bHRQcm9wcyIsImNyZWF0ZSIsInBvc2l0aW9uIiwibGVmdCIsInBhZGRpbmdIb3Jpem9udGFsIiwidG9wIiwicmlnaHQiLCJib3R0b20iLCJmbGV4R3JvdyIsIm1hcmdpbiIsIm1pbkhlaWdodCIsInRleHRBbGlnbiIsInpJbmRleCIsInBhZGRpbmdUb3AiLCJwYWRkaW5nQm90dG9tIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVBOztBQUNBOztBQU9BOztBQUNBOzs7Ozs7QUFHQSxJQUFNQSxZQUFZLEdBQUdDLHNCQUFTQyx1QkFBVCxDQUFpQ0MsYUFBakMsQ0FBckI7O0FBRUEsSUFBTUMsZ0NBQWdDLEdBQUcsQ0FBQyxFQUExQztBQUNBLElBQU1DLHlCQUF5QixHQUFHLEVBQWxDO0FBQ0EsSUFBTUMseUJBQXlCLEdBQUcsRUFBbEM7QUFDQSxJQUFNQyxxQkFBcUIsR0FBRyxDQUE5QjtBQUNBLElBQU1DLHdCQUF3QixHQUFHLEVBQWpDO0FBQ0EsSUFBTUMsNEJBQTRCLEdBQUcsQ0FBckM7O0lBRU1DLGlCOzs7Ozs7Ozs7OzZCQVNLO0FBQUEsd0JBa0JILEtBQUtDLEtBbEJGO0FBQUEsVUFF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QUFKUixHQURrQjtBQU8vQnFFLEVBQUFBLG1CQUFtQixFQUFFO0FBQ25CZ0IsSUFBQUEsR0FBRyxFQUFFO0FBRGMsR0FQVTtBQVUvQjFCLEVBQUFBLE9BQU8sRUFBRTtBQUNQdUIsSUFBQUEsUUFBUSxFQUFFLFVBREg7QUFFUEMsSUFBQUEsSUFBSSxFQUFFLENBRkM7QUFHUEcsSUFBQUEsS0FBSyxFQUFFLENBSEE7QUFJUEQsSUFBQUEsR0FBRyxFQUFFLENBSkU7QUFLUEUsSUFBQUEsTUFBTSxFQUFFO0FBTEQsR0FWc0I7QUFpQi9CdkIsRUFBQUEsdUJBQXVCLEVBQUU7QUFDdkJrQixJQUFBQSxRQUFRLEVBQUUsVUFEYTtBQUV2QkcsSUFBQUEsR0FBRyxFQUFFLENBRmtCO0FBR3ZCRixJQUFBQSxJQUFJLEVBQUUsQ0FIaUI7QUFJdkJDLElBQUFBLGlCQUFpQixFQUFFLENBSkk7QUFLdkJkLElBQUFBLEtBQUssRUFBRTtBQUxnQixHQWpCTTtBQXdCL0JLLEVBQUFBLEtBQUssRUFBRTtBQUNMYSxJQUFBQSxRQUFRLEVBQUUsQ0FETDtBQUVMSixJQUFBQSxpQkFBaUIsRUFBRSxFQUZkO0FBR0xwQyxJQUFBQSxRQUFRLEVBQUUsRUFITDtBQUlMeUMsSUFBQUEsTUFBTSxFQUFFLENBSkg7QUFLTEMsSUFBQUEsU0FBUyxFQUFFLEVBTE47QUFNTEMsSUFBQUEsU0FBUyxFQUFFOUMseUJBQVlDLEtBQVosR0FBb0IsT0FBcEIsR0FBOEIsTUFOcEM7QUFPTDhDLElBQUFBLE1BQU0sRUFBRTtBQVBILEdBeEJ3QjtBQWlDL0JoQixFQUFBQSxhQUFhLEVBQUU7QUFDYmlCLElBQUFBLFVBQVUsRUFBRSxFQURDO0FBRWJDLElBQUFBLGFBQWEsRUFBRSxFQUZGO0FBR2JKLElBQUFBLFNBQVMsRUFBRTtBQUhFO0FBakNnQixDQUFsQixDQUFmIiwic291cmNlc0NvbnRlbnQiOlsiLyogQGZsb3cgKi9cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0IHtcbiAgVmlldyxcbiAgQW5pbWF0ZWQsXG4gIFRleHRJbnB1dCBhcyBOYXRpdmVUZXh0SW5wdXQsXG4gIFN0eWxlU2hlZXQsXG4gIEkxOG5NYW5hZ2VyLFxufSBmcm9tICdyZWFjdC1uYXRpdmUnO1xuaW1wb3J0IGNvbG9yIGZyb20gJ2NvbG9yJztcbmltcG9ydCBUZXh0IGZyb20gJy4uL1R5cG9ncmFwaHkvVGV4dCc7XG5pbXBvcnQgdHlwZSB7IENoaWxkVGV4dElucHV0UHJvcHMsIFJlbmRlclByb3BzIH0gZnJvbSAnLi90eXBlcyc7XG5cbmNvbnN0IEFuaW1hdGVkVGV4dCA9IEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50KFRleHQpO1xuXG5jb25zdCBPVVRMSU5FX01JTklNSVpFRF9MQUJFTF9ZX09GRlNFVCA9IC0yOTtcbmNvbnN0IE1BWElNSVpFRF9MQUJFTF9GT05UX1NJWkUgPSAxNjtcbmNvbnN0IE1JTklNSVpFRF9MQUJFTF9GT05UX1NJWkUgPSAxMjtcbmNvbnN0IExBQkVMX1dJR0dMRV9YX09GRlNFVCA9IDQ7XG5jb25zdCBMQUJFTF9QQURESU5HX0hPUklaT05UQUwgPSAxMjtcbmNvbnN0IFJBTkRPTV9WQUxVRV9UT19DRU5URVJfTEFCRUwgPSA0OyAvLyBEb24ndCBrbm93IHdoeSA0LCBidXQgaXQgd29ya3NcblxuY2xhc3MgVGV4dElucHV0T3V0bGluZWQgZXh0ZW5kcyBSZWFjdC5Db21wb25lbnQ8Q2hpbGRUZXh0SW5wdXRQcm9wcywge30+IHtcbiAgc3RhdGljIGRlZmF1bHRQcm9wcyA9IHtcbiAgICBkaXNhYmxlZDogZmFsc2UsXG4gICAgZXJyb3I6IGZhbHNlLFxuICAgIG11bHRpbGluZTogZmFsc2UsXG4gICAgZWRpdGFibGU6IHRydWUsXG4gICAgcmVuZGVyOiAocHJvcHM6IFJlbmRlclByb3BzKSA9PiA8TmF0aXZlVGV4dElucHV0IHsuLi5wcm9wc30gLz4sXG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHtcbiAgICAgIGRpc2FibGVkLFxuICAgICAgbGFiZWwsXG4gICAgICBlcnJvcixcbiAgICAgIHNlbGVjdGlvbkNvbG9yLFxuICAgICAgdW5kZXJsaW5lQ29sb3IsXG4gICAgICBzdHlsZSxcbiAgICAgIHRoZW1lLFxuICAgICAgcmVuZGVyLFxuICAgICAgbXVsdGlsaW5lLFxuICAgICAgcGFyZW50U3RhdGUsXG4gICAgICBpbm5lclJlZixcbiAgICAgIG9uRm9jdXMsXG4gICAgICBvbkJsdXIsXG4gICAgICBvbkNoYW5nZVRleHQsXG4gICAgICBvbkxheW91dEFuaW1hdGVkVGV4dCxcbiAgICAgIC4uLnJlc3RcbiAgICB9ID0gdGhpcy5wcm9wcztcblxuICAgIGNvbnN0IHsgY29sb3JzLCBmb250cyB9ID0gdGhlbWU7XG4gICAgY29uc3QgZm9udEZhbWlseSA9IGZvbnRzLnJlZ3VsYXI7XG4gICAgY29uc3QgaGFzQWN0aXZlT3V0bGluZSA9IHBhcmVudFN0YXRlLmZvY3VzZWQgfHwgZXJyb3I7XG4gICAgY29uc3QgeyBiYWNrZ3JvdW5kQ29sb3IgPSBjb2xvcnMuYmFja2dyb3VuZCB9ID1cbiAgICAgIFN0eWxlU2hlZXQuZmxhdHRlbihzdHlsZSkgfHwge307XG5cbiAgICBsZXQgaW5wdXRUZXh0Q29sb3IsXG4gICAgICBhY3RpdmVDb2xvcixcbiAgICAgIG91dGxpbmVDb2xvcixcbiAgICAgIHBsYWNlaG9sZGVyQ29sb3IsXG4gICAgICBjb250YWluZXJTdHlsZTtcblxuICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgaW5wdXRUZXh0Q29sb3IgPSBhY3RpdmVDb2xvciA9IGNvbG9yKGNvbG9ycy50ZXh0KVxuICAgICAgICAuYWxwaGEoMC41NClcbiAgICAgICAgLnJnYigpXG4gICAgICAgIC5zdHJpbmcoKTtcbiAgICAgIHBsYWNlaG9sZGVyQ29sb3IgPSBvdXRsaW5lQ29sb3IgPSBjb2xvcnMuZGlzYWJsZWQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucHV0VGV4dENvbG9yID0gY29sb3JzLnRleHQ7XG4gICAgICBhY3RpdmVDb2xvciA9IGVycm9yID8gY29sb3JzLmVycm9yIDogY29sb3JzLnByaW1hcnk7XG4gICAgICBwbGFjZWhvbGRlckNvbG9yID0gb3V0bGluZUNvbG9yID0gY29sb3JzLnBsYWNlaG9sZGVyO1xuICAgIH1cblxuICAgIGNvbnN0IGxhYmVsSGFsZldpZHRoID0gcGFyZW50U3RhdGUubGFiZWxMYXlvdXQud2lkdGggLyAyO1xuICAgIGNvbnN0IGJhc2VMYWJlbFRyYW5zbGF0ZVggPVxuICAgICAgKEkxOG5NYW5hZ2VyLmlzUlRMID8gMSA6IC0xKSAqXG4gICAgICAoMSAtIE1JTklNSVpFRF9MQUJFTF9GT05UX1NJWkUgLyBNQVhJTUlaRURfTEFCRUxfRk9OVF9TSVpFKSAqXG4gICAgICBsYWJlbEhhbGZXaWR0aDtcblxuICAgIGNvbnN0IGxhYmVsU3R5bGUgPSB7XG4gICAgICBmb250RmFtaWx5LFxuICAgICAgZm9udFNpemU6IE1BWElNSVpFRF9MQUJFTF9GT05UX1NJWkUsXG4gICAgICB0cmFuc2Zvcm06IFtcbiAgICAgICAge1xuICAgICAgICAgIC8vIFdpZ2dsZSB0aGUgbGFiZWwgd2hlbiB0aGVyZSdzIGFuIGVycm9yXG4gICAgICAgICAgdHJhbnNsYXRlWDogcGFyZW50U3RhdGUuZXJyb3IuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW5wdXRSYW5nZTogWzAsIDAuNSwgMV0sXG4gICAgICAgICAgICBvdXRwdXRSYW5nZTogW1xuICAgICAgICAgICAgICAwLFxuICAgICAgICAgICAgICBwYXJlbnRTdGF0ZS52YWx1ZSAmJiBlcnJvciA/IExBQkVMX1dJR0dMRV9YX09GRlNFVCA6IDAsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgLy8gTW92ZSBsYWJlbCB0byB0b3BcbiAgICAgICAgICB0cmFuc2xhdGVZOiBwYXJlbnRTdGF0ZS5sYWJlbGVkLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgIGlucHV0UmFuZ2U6IFswLCAxXSxcbiAgICAgICAgICAgIG91dHB1dFJhbmdlOiBbT1VUTElORV9NSU5JTUlaRURfTEFCRUxfWV9PRkZTRVQsIDBdLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgLy8gTWFrZSBsYWJlbCBzbWFsbGVyXG4gICAgICAgICAgc2NhbGU6IHBhcmVudFN0YXRlLmxhYmVsZWQuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgaW5wdXRSYW5nZTogWzAsIDFdLFxuICAgICAgICAgICAgb3V0cHV0UmFuZ2U6IFtcbiAgICAgICAgICAgICAgTUlOSU1JWkVEX0xBQkVMX0ZPTlRfU0laRSAvIE1BWElNSVpFRF9MQUJFTF9GT05UX1NJWkUsXG4gICAgICAgICAgICAgIDEsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgICB7XG4gICAgICAgICAgLy8gT2Zmc2V0IGxhYmVsIHNjYWxlIHNpbmNlIFJOIGRvZXNuJ3Qgc3VwcG9ydCB0cmFuc2Zvcm0gb3JpZ2luXG4gICAgICAgICAgdHJhbnNsYXRlWDogcGFyZW50U3RhdGUubGFiZWxlZC5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgICBvdXRwdXRSYW5nZTogW1xuICAgICAgICAgICAgICBiYXNlTGFiZWxUcmFuc2xhdGVYID4gMFxuICAgICAgICAgICAgICAgID8gYmFzZUxhYmVsVHJhbnNsYXRlWCArXG4gICAgICAgICAgICAgICAgICBsYWJlbEhhbGZXaWR0aCAvIExBQkVMX1BBRERJTkdfSE9SSVpPTlRBTCAtXG4gICAgICAgICAgICAgICAgICBSQU5ET01fVkFMVUVfVE9fQ0VOVEVSX0xBQkVMXG4gICAgICAgICAgICAgICAgOiBiYXNlTGFiZWxUcmFuc2xhdGVYIC1cbiAgICAgICAgICAgICAgICAgIGxhYmVsSGFsZldpZHRoIC8gTEFCRUxfUEFERElOR19IT1JJWk9OVEFMICtcbiAgICAgICAgICAgICAgICAgIFJBTkRPTV9WQUxVRV9UT19DRU5URVJfTEFCRUwsXG4gICAgICAgICAgICAgIDAsXG4gICAgICAgICAgICBdLFxuICAgICAgICAgIH0pLFxuICAgICAgICB9LFxuICAgICAgXSxcbiAgICB9O1xuXG4gICAgcmV0dXJuIChcbiAgICAgIDxWaWV3IHN0eWxlPXtbY29udGFpbmVyU3R5bGUsIHN0eWxlXX0+XG4gICAgICAgIHsvKiBcbiAgICAgICAgICBSZW5kZXIgdGhlIG91dGxpbmUgc2VwYXJhdGVseSBmcm9tIHRoZSBjb250YWluZXJcbiAgICAgICAgICBUaGlzIGlzIHNvIHRoYXQgdGhlIGxhYmVsIGNhbiBvdmVybGFwIHRoZSBvdXRsaW5lXG4gICAgICAgICAgT3RoZXJ3aXNlIHRoZSBib3JkZXIgd2lsbCBjdXQgb2ZmIHRoZSBsYWJlbCBvbiBBbmRyb2lkIFxuICAgICAgICAgICovfVxuICAgICAgICA8Vmlld1xuICAgICAgICAgIHBvaW50ZXJFdmVudHM9XCJub25lXCJcbiAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgc3R5bGVzLm91dGxpbmUsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGJvcmRlclJhZGl1czogdGhlbWUucm91bmRuZXNzLFxuICAgICAgICAgICAgICBib3JkZXJXaWR0aDogaGFzQWN0aXZlT3V0bGluZSA/IDIgOiAxLFxuICAgICAgICAgICAgICBib3JkZXJDb2xvcjogaGFzQWN0aXZlT3V0bGluZSA/IGFjdGl2ZUNvbG9yIDogb3V0bGluZUNvbG9yLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICBdfVxuICAgICAgICAvPlxuXG4gICAgICAgIHtsYWJlbCA/IChcbiAgICAgICAgICAvLyBUaGUgaW5wdXQgbGFiZWwgc3RheXMgb24gdG9wIG9mIHRoZSBvdXRsaW5lXG4gICAgICAgICAgLy8gVGhlIGJhY2tncm91bmQgb2YgdGhlIGxhYmVsIGNvdmVycyB0aGUgb3V0bGluZSBzbyBpdCBsb29rcyBjdXQgb2ZmXG4gICAgICAgICAgLy8gVG8gYWNoaWV2ZSB0aGUgZWZmZWN0LCB3ZSBwb3NpdGlvbiB0aGUgYWN0dWFsIGxhYmVsIHdpdGggYSBiYWNrZ3JvdW5kIG9uIHRvcCBvZiBpdFxuICAgICAgICAgIC8vIFdlIHNldCB0aGUgY29sb3Igb2YgdGhlIHRleHQgdG8gdHJhbnNwYXJlbnQgc28gb25seSB0aGUgYmFja2dyb3VuZCBpcyB2aXNpYmxlXG4gICAgICAgICAgPEFuaW1hdGVkVGV4dFxuICAgICAgICAgICAgcG9pbnRlckV2ZW50cz1cIm5vbmVcIlxuICAgICAgICAgICAgc3R5bGU9e1tcbiAgICAgICAgICAgICAgc3R5bGVzLm91dGxpbmVkTGFiZWxCYWNrZ3JvdW5kLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYmFja2dyb3VuZENvbG9yLFxuICAgICAgICAgICAgICAgIGZvbnRGYW1pbHksXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IE1JTklNSVpFRF9MQUJFTF9GT05UX1NJWkUsXG4gICAgICAgICAgICAgICAgLy8gSGlkZSB0aGUgYmFja2dyb3VuZCB3aGVuIHNjYWxlIHdpbGwgYmUgMFxuICAgICAgICAgICAgICAgIC8vIFRoZXJlJ3MgYSBidWcgaW4gUk4gd2hpY2ggbWFrZXMgc2NhbGU6IDAgYWN0IHdlaXJkXG4gICAgICAgICAgICAgICAgb3BhY2l0eTogcGFyZW50U3RhdGUubGFiZWxlZC5pbnRlcnBvbGF0ZSh7XG4gICAgICAgICAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMC45LCAxXSxcbiAgICAgICAgICAgICAgICAgIG91dHB1dFJhbmdlOiBbMSwgMSwgMF0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdHJhbnNmb3JtOiBbXG4gICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEFuaW1hdGUgdGhlIHNjYWxlIHdoZW4gbGFiZWwgaXMgbW92ZWQgdXBcbiAgICAgICAgICAgICAgICAgICAgc2NhbGVYOiBwYXJlbnRTdGF0ZS5sYWJlbGVkLmludGVycG9sYXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0UmFuZ2U6IFsxLCAwXSxcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIF0sXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgICAgbnVtYmVyT2ZMaW5lcz17MX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICB7bGFiZWx9XG4gICAgICAgICAgPC9BbmltYXRlZFRleHQ+XG4gICAgICAgICkgOiBudWxsfVxuXG4gICAgICAgIHtsYWJlbCA/IChcbiAgICAgICAgICAvLyBQb3NpdGlvbiBjb2xvcmVkIHBsYWNlaG9sZGVyIGFuZCBncmF5IHBsYWNlaG9sZGVyIG9uIHRvcCBvZiBlYWNoIG90aGVyIGFuZCBjcm9zc2ZhZGUgdGhlbVxuICAgICAgICAgIC8vIFRoaXMgZ2l2ZXMgdGhlIGVmZmVjdCBvZiBhbmltYXRpbmcgdGhlIGNvbG9yLCBidXQgYWxsb3dzIHVzIHRvIHVzZSBuYXRpdmUgZHJpdmVyXG4gICAgICAgICAgPFZpZXdcbiAgICAgICAgICAgIHBvaW50ZXJFdmVudHM9XCJub25lXCJcbiAgICAgICAgICAgIHN0eWxlPXtbXG4gICAgICAgICAgICAgIFN0eWxlU2hlZXQuYWJzb2x1dGVGaWxsLFxuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgb3BhY2l0eTpcbiAgICAgICAgICAgICAgICAgIC8vIEhpZGUgdGhlIGxhYmVsIGluIG1pbmltaXplZCBzdGF0ZSB1bnRpbCB3ZSBtZWFzdXJlIGl0J3Mgd2lkdGhcbiAgICAgICAgICAgICAgICAgIHBhcmVudFN0YXRlLnZhbHVlIHx8IHBhcmVudFN0YXRlLmZvY3VzZWRcbiAgICAgICAgICAgICAgICAgICAgPyBwYXJlbnRTdGF0ZS5sYWJlbExheW91dC5tZWFzdXJlZFxuICAgICAgICAgICAgICAgICAgICAgID8gMVxuICAgICAgICAgICAgICAgICAgICAgIDogMFxuICAgICAgICAgICAgICAgICAgICA6IDEsXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBdfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxBbmltYXRlZFRleHRcbiAgICAgICAgICAgICAgb25MYXlvdXQ9e29uTGF5b3V0QW5pbWF0ZWRUZXh0fVxuICAgICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICAgIHN0eWxlcy5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICBzdHlsZXMucGxhY2Vob2xkZXJPdXRsaW5lZCxcbiAgICAgICAgICAgICAgICBsYWJlbFN0eWxlLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBhY3RpdmVDb2xvcixcbiAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IHBhcmVudFN0YXRlLmxhYmVsZWQuaW50ZXJwb2xhdGUoe1xuICAgICAgICAgICAgICAgICAgICBpbnB1dFJhbmdlOiBbMCwgMV0sXG4gICAgICAgICAgICAgICAgICAgIG91dHB1dFJhbmdlOiBbaGFzQWN0aXZlT3V0bGluZSA/IDEgOiAwLCAwXSxcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgIG51bWJlck9mTGluZXM9ezF9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgIDwvQW5pbWF0ZWRUZXh0PlxuICAgICAgICAgICAgPEFuaW1hdGVkVGV4dFxuICAgICAgICAgICAgICBzdHlsZT17W1xuICAgICAgICAgICAgICAgIHN0eWxlcy5wbGFjZWhvbGRlcixcbiAgICAgICAgICAgICAgICBzdHlsZXMucGxhY2Vob2xkZXJPdXRsaW5lZCxcbiAgICAgICAgICAgICAgICBsYWJlbFN0eWxlLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGNvbG9yOiBwbGFjZWhvbGRlckNvbG9yLFxuICAgICAgICAgICAgICAgICAgb3BhY2l0eTogaGFzQWN0aXZlT3V0bGluZSA/IHBhcmVudFN0YXRlLmxhYmVsZWQgOiAxLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIF19XG4gICAgICAgICAgICAgIG51bWJlck9mTGluZXM9ezF9XG4gICAgICAgICAgICA+XG4gICAgICAgICAgICAgIHtsYWJlbH1cbiAgICAgICAgICAgIDwvQW5pbWF0ZWRUZXh0PlxuICAgICAgICAgIDwvVmlldz5cbiAgICAgICAgKSA6IG51bGx9XG5cbiAgICAgICAge3JlbmRlcihcbiAgICAgICAgICAoe1xuICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgIHJlZjogaW5uZXJSZWYsXG4gICAgICAgICAgICBvbkNoYW5nZVRleHQsXG4gICAgICAgICAgICBwbGFjZWhvbGRlcjogbGFiZWxcbiAgICAgICAgICAgICAgPyBwYXJlbnRTdGF0ZS5wbGFjZWhvbGRlclxuICAgICAgICAgICAgICA6IHRoaXMucHJvcHMucGxhY2Vob2xkZXIsXG4gICAgICAgICAgICBwbGFjZWhvbGRlclRleHRDb2xvcjogcGxhY2Vob2xkZXJDb2xvcixcbiAgICAgICAgICAgIGVkaXRhYmxlOiAhZGlzYWJsZWQsXG4gICAgICAgICAgICBzZWxlY3Rpb25Db2xvcjpcbiAgICAgICAgICAgICAgdHlwZW9mIHNlbGVjdGlvbkNvbG9yID09PSAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgICAgID8gYWN0aXZlQ29sb3JcbiAgICAgICAgICAgICAgICA6IHNlbGVjdGlvbkNvbG9yLFxuICAgICAgICAgICAgb25Gb2N1cyxcbiAgICAgICAgICAgIG9uQmx1cixcbiAgICAgICAgICAgIHVuZGVybGluZUNvbG9yQW5kcm9pZDogJ3RyYW5zcGFyZW50JyxcbiAgICAgICAgICAgIG11bHRpbGluZSxcbiAgICAgICAgICAgIHN0eWxlOiBbXG4gICAgICAgICAgICAgIHN0eWxlcy5pbnB1dCxcbiAgICAgICAgICAgICAgc3R5bGVzLmlucHV0T3V0bGluZWQsXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb2xvcjogaW5wdXRUZXh0Q29sb3IsXG4gICAgICAgICAgICAgICAgZm9udEZhbWlseSxcbiAgICAgICAgICAgICAgICB0ZXh0QWxpZ25WZXJ0aWNhbDogbXVsdGlsaW5lID8gJ3RvcCcgOiAnY2VudGVyJyxcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgICAgfTogUmVuZGVyUHJvcHMpXG4gICAgICAgICl9XG4gICAgICA8L1ZpZXc+XG4gICAgKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBUZXh0SW5wdXRPdXRsaW5lZDtcblxuY29uc3Qgc3R5bGVzID0gU3R5bGVTaGVldC5jcmVhdGUoe1xuICBwbGFjZWhvbGRlcjoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIGxlZnQ6IDAsXG4gICAgZm9udFNpemU6IDE2LFxuICAgIHBhZGRpbmdIb3Jpem9udGFsOiBMQUJFTF9QQURESU5HX0hPUklaT05UQUwsXG4gIH0sXG4gIHBsYWNlaG9sZGVyT3V0bGluZWQ6IHtcbiAgICB0b3A6IDI1LFxuICB9LFxuICBvdXRsaW5lOiB7XG4gICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgbGVmdDogMCxcbiAgICByaWdodDogMCxcbiAgICB0b3A6IDYsXG4gICAgYm90dG9tOiAwLFxuICB9LFxuICBvdXRsaW5lZExhYmVsQmFja2dyb3VuZDoge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICBsZWZ0OiA4LFxuICAgIHBhZGRpbmdIb3Jpem9udGFsOiA0LFxuICAgIGNvbG9yOiAndHJhbnNwYXJlbnQnLFxuICB9LFxuICBpbnB1dDoge1xuICAgIGZsZXhHcm93OiAxLFxuICAgIHBhZGRpbmdIb3Jpem9udGFsOiAxMixcbiAgICBmb250U2l6ZTogMTYsXG4gICAgbWFyZ2luOiAwLFxuICAgIG1pbkhlaWdodDogNTgsXG4gICAgdGV4dEFsaWduOiBJMThuTWFuYWdlci5pc1JUTCA/ICdyaWdodCcgOiAnbGVmdCcsXG4gICAgekluZGV4OiAxLFxuICB9LFxuICBpbnB1dE91dGxpbmVkOiB7XG4gICAgcGFkZGluZ1RvcDogMjAsXG4gICAgcGFkZGluZ0JvdHRvbTogMTYsXG4gICAgbWluSGVpZ2h0OiA2NCxcbiAgfSxcbn0pO1xuIl19