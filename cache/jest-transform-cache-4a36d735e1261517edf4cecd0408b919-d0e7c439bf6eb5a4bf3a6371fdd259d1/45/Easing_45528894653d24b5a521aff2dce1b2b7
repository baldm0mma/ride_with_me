28d8921ee4cf6e38817c091580bd954b
'use strict';

var _interopRequireDefault = require("@babel/runtime/helpers/interopRequireDefault");

var _classCallCheck2 = _interopRequireDefault(require("@babel/runtime/helpers/classCallCheck"));

var _createClass2 = _interopRequireDefault(require("@babel/runtime/helpers/createClass"));

var _ease;

var Easing = function () {
  function Easing() {
    (0, _classCallCheck2.default)(this, Easing);
  }

  (0, _createClass2.default)(Easing, null, [{
    key: "step0",
    value: function step0(n) {
      return n > 0 ? 1 : 0;
    }
  }, {
    key: "step1",
    value: function step1(n) {
      return n >= 1 ? 1 : 0;
    }
  }, {
    key: "linear",
    value: function linear(t) {
      return t;
    }
  }, {
    key: "ease",
    value: function ease(t) {
      if (!_ease) {
        _ease = Easing.bezier(0.42, 0, 1, 1);
      }

      return _ease(t);
    }
  }, {
    key: "quad",
    value: function quad(t) {
      return t * t;
    }
  }, {
    key: "cubic",
    value: function cubic(t) {
      return t * t * t;
    }
  }, {
    key: "poly",
    value: function poly(n) {
      return function (t) {
        return Math.pow(t, n);
      };
    }
  }, {
    key: "sin",
    value: function sin(t) {
      return 1 - Math.cos(t * Math.PI / 2);
    }
  }, {
    key: "circle",
    value: function circle(t) {
      return 1 - Math.sqrt(1 - t * t);
    }
  }, {
    key: "exp",
    value: function exp(t) {
      return Math.pow(2, 10 * (t - 1));
    }
  }, {
    key: "elastic",
    value: function elastic() {
      var bounciness = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;
      var p = bounciness * Math.PI;
      return function (t) {
        return 1 - Math.pow(Math.cos(t * Math.PI / 2), 3) * Math.cos(t * p);
      };
    }
  }, {
    key: "back",
    value: function back() {
      var s = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1.70158;
      return function (t) {
        return t * t * ((s + 1) * t - s);
      };
    }
  }, {
    key: "bounce",
    value: function bounce(t) {
      if (t < 1 / 2.75) {
        return 7.5625 * t * t;
      }

      if (t < 2 / 2.75) {
        var _t = t - 1.5 / 2.75;

        return 7.5625 * _t * _t + 0.75;
      }

      if (t < 2.5 / 2.75) {
        var _t2 = t - 2.25 / 2.75;

        return 7.5625 * _t2 * _t2 + 0.9375;
      }

      var t2 = t - 2.625 / 2.75;
      return 7.5625 * t2 * t2 + 0.984375;
    }
  }, {
    key: "bezier",
    value: function bezier(x1, y1, x2, y2) {
      var _bezier = require("./bezier");

      return _bezier(x1, y1, x2, y2);
    }
  }, {
    key: "in",
    value: function _in(easing) {
      return easing;
    }
  }, {
    key: "out",
    value: function out(easing) {
      return function (t) {
        return 1 - easing(1 - t);
      };
    }
  }, {
    key: "inOut",
    value: function inOut(easing) {
      return function (t) {
        if (t < 0.5) {
          return easing(t * 2) / 2;
        }

        return 1 - easing((1 - t) * 2) / 2;
      };
    }
  }]);
  return Easing;
}();

module.exports = Easing;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkVhc2luZy5qcyJdLCJuYW1lcyI6WyJlYXNlIiwiRWFzaW5nIiwibiIsInQiLCJiZXppZXIiLCJNYXRoIiwicG93IiwiY29zIiwiUEkiLCJzcXJ0IiwiYm91bmNpbmVzcyIsInAiLCJzIiwidDIiLCJ4MSIsInkxIiwieDIiLCJ5MiIsIl9iZXppZXIiLCJyZXF1aXJlIiwiZWFzaW5nIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6IkFBVUE7Ozs7Ozs7O0FBRUEsSUFBSUEsS0FBSjs7SUErQ01DLE07Ozs7Ozs7MEJBSVNDLEMsRUFBVztBQUN0QixhQUFPQSxDQUFDLEdBQUcsQ0FBSixHQUFRLENBQVIsR0FBWSxDQUFuQjtBQUNEOzs7MEJBS1lBLEMsRUFBVztBQUN0QixhQUFPQSxDQUFDLElBQUksQ0FBTCxHQUFTLENBQVQsR0FBYSxDQUFwQjtBQUNEOzs7MkJBUWFDLEMsRUFBVztBQUN2QixhQUFPQSxDQUFQO0FBQ0Q7Ozt5QkFRV0EsQyxFQUFtQjtBQUM3QixVQUFJLENBQUNILEtBQUwsRUFBVztBQUNUQSxRQUFBQSxLQUFJLEdBQUdDLE1BQU0sQ0FBQ0csTUFBUCxDQUFjLElBQWQsRUFBb0IsQ0FBcEIsRUFBdUIsQ0FBdkIsRUFBMEIsQ0FBMUIsQ0FBUDtBQUNEOztBQUNELGFBQU9KLEtBQUksQ0FBQ0csQ0FBRCxDQUFYO0FBQ0Q7Ozt5QkFRV0EsQyxFQUFXO0FBQ3JCLGFBQU9BLENBQUMsR0FBR0EsQ0FBWDtBQUNEOzs7MEJBUVlBLEMsRUFBVztBQUN0QixhQUFPQSxDQUFDLEdBQUdBLENBQUosR0FBUUEsQ0FBZjtBQUNEOzs7eUJBUVdELEMsRUFBVztBQUNyQixhQUFPLFVBQUNDLENBQUQ7QUFBQSxlQUFlRSxJQUFJLENBQUNDLEdBQUwsQ0FBU0gsQ0FBVCxFQUFZRCxDQUFaLENBQWY7QUFBQSxPQUFQO0FBQ0Q7Ozt3QkFPVUMsQyxFQUFXO0FBQ3BCLGFBQU8sSUFBSUUsSUFBSSxDQUFDRSxHQUFMLENBQVVKLENBQUMsR0FBR0UsSUFBSSxDQUFDRyxFQUFWLEdBQWdCLENBQXpCLENBQVg7QUFDRDs7OzJCQU9hTCxDLEVBQVc7QUFDdkIsYUFBTyxJQUFJRSxJQUFJLENBQUNJLElBQUwsQ0FBVSxJQUFJTixDQUFDLEdBQUdBLENBQWxCLENBQVg7QUFDRDs7O3dCQU9VQSxDLEVBQVc7QUFDcEIsYUFBT0UsSUFBSSxDQUFDQyxHQUFMLENBQVMsQ0FBVCxFQUFZLE1BQU1ILENBQUMsR0FBRyxDQUFWLENBQVosQ0FBUDtBQUNEOzs7OEJBWTZEO0FBQUEsVUFBL0NPLFVBQStDLHVFQUExQixDQUEwQjtBQUM1RCxVQUFNQyxDQUFDLEdBQUdELFVBQVUsR0FBR0wsSUFBSSxDQUFDRyxFQUE1QjtBQUNBLGFBQU8sVUFBQUwsQ0FBQztBQUFBLGVBQUksSUFBSUUsSUFBSSxDQUFDQyxHQUFMLENBQVNELElBQUksQ0FBQ0UsR0FBTCxDQUFVSixDQUFDLEdBQUdFLElBQUksQ0FBQ0csRUFBVixHQUFnQixDQUF6QixDQUFULEVBQXNDLENBQXRDLElBQTJDSCxJQUFJLENBQUNFLEdBQUwsQ0FBU0osQ0FBQyxHQUFHUSxDQUFiLENBQW5EO0FBQUEsT0FBUjtBQUNEOzs7MkJBVXVEO0FBQUEsVUFBNUNDLENBQTRDLHVFQUFoQyxPQUFnQztBQUN0RCxhQUFPLFVBQUFULENBQUM7QUFBQSxlQUFJQSxDQUFDLEdBQUdBLENBQUosSUFBUyxDQUFDUyxDQUFDLEdBQUcsQ0FBTCxJQUFVVCxDQUFWLEdBQWNTLENBQXZCLENBQUo7QUFBQSxPQUFSO0FBQ0Q7OzsyQkFPYVQsQyxFQUFtQjtBQUMvQixVQUFJQSxDQUFDLEdBQUcsSUFBSSxJQUFaLEVBQWtCO0FBQ2hCLGVBQU8sU0FBU0EsQ0FBVCxHQUFhQSxDQUFwQjtBQUNEOztBQUVELFVBQUlBLENBQUMsR0FBRyxJQUFJLElBQVosRUFBa0I7QUFDaEIsWUFBTVUsRUFBRSxHQUFHVixDQUFDLEdBQUcsTUFBTSxJQUFyQjs7QUFDQSxlQUFPLFNBQVNVLEVBQVQsR0FBY0EsRUFBZCxHQUFtQixJQUExQjtBQUNEOztBQUVELFVBQUlWLENBQUMsR0FBRyxNQUFNLElBQWQsRUFBb0I7QUFDbEIsWUFBTVUsR0FBRSxHQUFHVixDQUFDLEdBQUcsT0FBTyxJQUF0Qjs7QUFDQSxlQUFPLFNBQVNVLEdBQVQsR0FBY0EsR0FBZCxHQUFtQixNQUExQjtBQUNEOztBQUVELFVBQU1BLEVBQUUsR0FBR1YsQ0FBQyxHQUFHLFFBQVEsSUFBdkI7QUFDQSxhQUFPLFNBQVNVLEVBQVQsR0FBY0EsRUFBZCxHQUFtQixRQUExQjtBQUNEOzs7MkJBVUNDLEUsRUFDQUMsRSxFQUNBQyxFLEVBQ0FDLEUsRUFDdUI7QUFDdkIsVUFBTUMsT0FBTyxHQUFHQyxPQUFPLFlBQXZCOztBQUNBLGFBQU9ELE9BQU8sQ0FBQ0osRUFBRCxFQUFLQyxFQUFMLEVBQVNDLEVBQVQsRUFBYUMsRUFBYixDQUFkO0FBQ0Q7Ozt3QkFLU0csTSxFQUFzRDtBQUM5RCxhQUFPQSxNQUFQO0FBQ0Q7Ozt3QkFLVUEsTSxFQUFzRDtBQUMvRCxhQUFPLFVBQUFqQixDQUFDO0FBQUEsZUFBSSxJQUFJaUIsTUFBTSxDQUFDLElBQUlqQixDQUFMLENBQWQ7QUFBQSxPQUFSO0FBQ0Q7OzswQkFPWWlCLE0sRUFBc0Q7QUFDakUsYUFBTyxVQUFBakIsQ0FBQyxFQUFJO0FBQ1YsWUFBSUEsQ0FBQyxHQUFHLEdBQVIsRUFBYTtBQUNYLGlCQUFPaUIsTUFBTSxDQUFDakIsQ0FBQyxHQUFHLENBQUwsQ0FBTixHQUFnQixDQUF2QjtBQUNEOztBQUNELGVBQU8sSUFBSWlCLE1BQU0sQ0FBQyxDQUFDLElBQUlqQixDQUFMLElBQVUsQ0FBWCxDQUFOLEdBQXNCLENBQWpDO0FBQ0QsT0FMRDtBQU1EOzs7OztBQUdIa0IsTUFBTSxDQUFDQyxPQUFQLEdBQWlCckIsTUFBakIiLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIEBmb3JtYXRcbiAqIEBmbG93IHN0cmljdFxuICovXG5cbid1c2Ugc3RyaWN0JztcblxubGV0IGVhc2U7XG5cbi8qKlxuICogVGhlIGBFYXNpbmdgIG1vZHVsZSBpbXBsZW1lbnRzIGNvbW1vbiBlYXNpbmcgZnVuY3Rpb25zLiBUaGlzIG1vZHVsZSBpcyB1c2VkXG4gKiBieSBbQW5pbWF0ZS50aW1pbmcoKV0oZG9jcy9hbmltYXRlLmh0bWwjdGltaW5nKSB0byBjb252ZXkgcGh5c2ljYWxseVxuICogYmVsaWV2YWJsZSBtb3Rpb24gaW4gYW5pbWF0aW9ucy5cbiAqXG4gKiBZb3UgY2FuIGZpbmQgYSB2aXN1YWxpemF0aW9uIG9mIHNvbWUgY29tbW9uIGVhc2luZyBmdW5jdGlvbnMgYXRcbiAqIGh0dHA6Ly9lYXNpbmdzLm5ldC9cbiAqXG4gKiAjIyMgUHJlZGVmaW5lZCBhbmltYXRpb25zXG4gKlxuICogVGhlIGBFYXNpbmdgIG1vZHVsZSBwcm92aWRlcyBzZXZlcmFsIHByZWRlZmluZWQgYW5pbWF0aW9ucyB0aHJvdWdoIHRoZVxuICogZm9sbG93aW5nIG1ldGhvZHM6XG4gKlxuICogLSBbYGJhY2tgXShkb2NzL2Vhc2luZy5odG1sI2JhY2spIHByb3ZpZGVzIGEgc2ltcGxlIGFuaW1hdGlvbiB3aGVyZSB0aGVcbiAqICAgb2JqZWN0IGdvZXMgc2xpZ2h0bHkgYmFjayBiZWZvcmUgbW92aW5nIGZvcndhcmRcbiAqIC0gW2Bib3VuY2VgXShkb2NzL2Vhc2luZy5odG1sI2JvdW5jZSkgcHJvdmlkZXMgYSBib3VuY2luZyBhbmltYXRpb25cbiAqIC0gW2BlYXNlYF0oZG9jcy9lYXNpbmcuaHRtbCNlYXNlKSBwcm92aWRlcyBhIHNpbXBsZSBpbmVydGlhbCBhbmltYXRpb25cbiAqIC0gW2BlbGFzdGljYF0oZG9jcy9lYXNpbmcuaHRtbCNlbGFzdGljKSBwcm92aWRlcyBhIHNpbXBsZSBzcHJpbmcgaW50ZXJhY3Rpb25cbiAqXG4gKiAjIyMgU3RhbmRhcmQgZnVuY3Rpb25zXG4gKlxuICogVGhyZWUgc3RhbmRhcmQgZWFzaW5nIGZ1bmN0aW9ucyBhcmUgcHJvdmlkZWQ6XG4gKlxuICogLSBbYGxpbmVhcmBdKGRvY3MvZWFzaW5nLmh0bWwjbGluZWFyKVxuICogLSBbYHF1YWRgXShkb2NzL2Vhc2luZy5odG1sI3F1YWQpXG4gKiAtIFtgY3ViaWNgXShkb2NzL2Vhc2luZy5odG1sI2N1YmljKVxuICpcbiAqIFRoZSBbYHBvbHlgXShkb2NzL2Vhc2luZy5odG1sI3BvbHkpIGZ1bmN0aW9uIGNhbiBiZSB1c2VkIHRvIGltcGxlbWVudFxuICogcXVhcnRpYywgcXVpbnRpYywgYW5kIG90aGVyIGhpZ2hlciBwb3dlciBmdW5jdGlvbnMuXG4gKlxuICogIyMjIEFkZGl0aW9uYWwgZnVuY3Rpb25zXG4gKlxuICogQWRkaXRpb25hbCBtYXRoZW1hdGljYWwgZnVuY3Rpb25zIGFyZSBwcm92aWRlZCBieSB0aGUgZm9sbG93aW5nIG1ldGhvZHM6XG4gKlxuICogLSBbYGJlemllcmBdKGRvY3MvZWFzaW5nLmh0bWwjYmV6aWVyKSBwcm92aWRlcyBhIGN1YmljIGJlemllciBjdXJ2ZVxuICogLSBbYGNpcmNsZWBdKGRvY3MvZWFzaW5nLmh0bWwjY2lyY2xlKSBwcm92aWRlcyBhIGNpcmN1bGFyIGZ1bmN0aW9uXG4gKiAtIFtgc2luYF0oZG9jcy9lYXNpbmcuaHRtbCNzaW4pIHByb3ZpZGVzIGEgc2ludXNvaWRhbCBmdW5jdGlvblxuICogLSBbYGV4cGBdKGRvY3MvZWFzaW5nLmh0bWwjZXhwKSBwcm92aWRlcyBhbiBleHBvbmVudGlhbCBmdW5jdGlvblxuICpcbiAqIFRoZSBmb2xsb3dpbmcgaGVscGVycyBhcmUgdXNlZCB0byBtb2RpZnkgb3RoZXIgZWFzaW5nIGZ1bmN0aW9ucy5cbiAqXG4gKiAtIFtgaW5gXShkb2NzL2Vhc2luZy5odG1sI2luKSBydW5zIGFuIGVhc2luZyBmdW5jdGlvbiBmb3J3YXJkc1xuICogLSBbYGluT3V0YF0oZG9jcy9lYXNpbmcuaHRtbCNpbm91dCkgbWFrZXMgYW55IGVhc2luZyBmdW5jdGlvbiBzeW1tZXRyaWNhbFxuICogLSBbYG91dGBdKGRvY3MvZWFzaW5nLmh0bWwjb3V0KSBydW5zIGFuIGVhc2luZyBmdW5jdGlvbiBiYWNrd2FyZHNcbiAqL1xuY2xhc3MgRWFzaW5nIHtcbiAgLyoqXG4gICAqIEEgc3RlcHBpbmcgZnVuY3Rpb24sIHJldHVybnMgMSBmb3IgYW55IHBvc2l0aXZlIHZhbHVlIG9mIGBuYC5cbiAgICovXG4gIHN0YXRpYyBzdGVwMChuOiBudW1iZXIpIHtcbiAgICByZXR1cm4gbiA+IDAgPyAxIDogMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHN0ZXBwaW5nIGZ1bmN0aW9uLCByZXR1cm5zIDEgaWYgYG5gIGlzIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byAxLlxuICAgKi9cbiAgc3RhdGljIHN0ZXAxKG46IG51bWJlcikge1xuICAgIHJldHVybiBuID49IDEgPyAxIDogMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIGxpbmVhciBmdW5jdGlvbiwgYGYodCkgPSB0YC4gUG9zaXRpb24gY29ycmVsYXRlcyB0byBlbGFwc2VkIHRpbWUgb25lIHRvXG4gICAqIG9uZS5cbiAgICpcbiAgICogaHR0cDovL2N1YmljLWJlemllci5jb20vIzAsMCwxLDFcbiAgICovXG4gIHN0YXRpYyBsaW5lYXIodDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzaW1wbGUgaW5lcnRpYWwgaW50ZXJhY3Rpb24sIHNpbWlsYXIgdG8gYW4gb2JqZWN0IHNsb3dseSBhY2NlbGVyYXRpbmcgdG9cbiAgICogc3BlZWQuXG4gICAqXG4gICAqIGh0dHA6Ly9jdWJpYy1iZXppZXIuY29tLyMuNDIsMCwxLDFcbiAgICovXG4gIHN0YXRpYyBlYXNlKHQ6IG51bWJlcik6IG51bWJlciB7XG4gICAgaWYgKCFlYXNlKSB7XG4gICAgICBlYXNlID0gRWFzaW5nLmJlemllcigwLjQyLCAwLCAxLCAxKTtcbiAgICB9XG4gICAgcmV0dXJuIGVhc2UodCk7XG4gIH1cblxuICAvKipcbiAgICogQSBxdWFkcmF0aWMgZnVuY3Rpb24sIGBmKHQpID0gdCAqIHRgLiBQb3NpdGlvbiBlcXVhbHMgdGhlIHNxdWFyZSBvZiBlbGFwc2VkXG4gICAqIHRpbWUuXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluUXVhZFxuICAgKi9cbiAgc3RhdGljIHF1YWQodDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIHQgKiB0O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgY3ViaWMgZnVuY3Rpb24sIGBmKHQpID0gdCAqIHQgKiB0YC4gUG9zaXRpb24gZXF1YWxzIHRoZSBjdWJlIG9mIGVsYXBzZWRcbiAgICogdGltZS5cbiAgICpcbiAgICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5DdWJpY1xuICAgKi9cbiAgc3RhdGljIGN1YmljKHQ6IG51bWJlcikge1xuICAgIHJldHVybiB0ICogdCAqIHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBwb3dlciBmdW5jdGlvbi4gUG9zaXRpb24gaXMgZXF1YWwgdG8gdGhlIE50aCBwb3dlciBvZiBlbGFwc2VkIHRpbWUuXG4gICAqXG4gICAqIG4gPSA0OiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblF1YXJ0XG4gICAqIG4gPSA1OiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblF1aW50XG4gICAqL1xuICBzdGF0aWMgcG9seShuOiBudW1iZXIpIHtcbiAgICByZXR1cm4gKHQ6IG51bWJlcikgPT4gTWF0aC5wb3codCwgbik7XG4gIH1cblxuICAvKipcbiAgICogQSBzaW51c29pZGFsIGZ1bmN0aW9uLlxuICAgKlxuICAgKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJblNpbmVcbiAgICovXG4gIHN0YXRpYyBzaW4odDogbnVtYmVyKSB7XG4gICAgcmV0dXJuIDEgLSBNYXRoLmNvcygodCAqIE1hdGguUEkpIC8gMik7XG4gIH1cblxuICAvKipcbiAgICogQSBjaXJjdWxhciBmdW5jdGlvbi5cbiAgICpcbiAgICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5DaXJjXG4gICAqL1xuICBzdGF0aWMgY2lyY2xlKHQ6IG51bWJlcikge1xuICAgIHJldHVybiAxIC0gTWF0aC5zcXJ0KDEgLSB0ICogdCk7XG4gIH1cblxuICAvKipcbiAgICogQW4gZXhwb25lbnRpYWwgZnVuY3Rpb24uXG4gICAqXG4gICAqIGh0dHA6Ly9lYXNpbmdzLm5ldC8jZWFzZUluRXhwb1xuICAgKi9cbiAgc3RhdGljIGV4cCh0OiBudW1iZXIpIHtcbiAgICByZXR1cm4gTWF0aC5wb3coMiwgMTAgKiAodCAtIDEpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNpbXBsZSBlbGFzdGljIGludGVyYWN0aW9uLCBzaW1pbGFyIHRvIGEgc3ByaW5nIG9zY2lsbGF0aW5nIGJhY2sgYW5kXG4gICAqIGZvcnRoLlxuICAgKlxuICAgKiBEZWZhdWx0IGJvdW5jaW5lc3MgaXMgMSwgd2hpY2ggb3ZlcnNob290cyBhIGxpdHRsZSBiaXQgb25jZS4gMCBib3VuY2luZXNzXG4gICAqIGRvZXNuJ3Qgb3ZlcnNob290IGF0IGFsbCwgYW5kIGJvdW5jaW5lc3Mgb2YgTiA+IDEgd2lsbCBvdmVyc2hvb3QgYWJvdXQgTlxuICAgKiB0aW1lcy5cbiAgICpcbiAgICogaHR0cDovL2Vhc2luZ3MubmV0LyNlYXNlSW5FbGFzdGljXG4gICAqL1xuICBzdGF0aWMgZWxhc3RpYyhib3VuY2luZXNzOiBudW1iZXIgPSAxKTogKHQ6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICBjb25zdCBwID0gYm91bmNpbmVzcyAqIE1hdGguUEk7XG4gICAgcmV0dXJuIHQgPT4gMSAtIE1hdGgucG93KE1hdGguY29zKCh0ICogTWF0aC5QSSkgLyAyKSwgMykgKiBNYXRoLmNvcyh0ICogcCk7XG4gIH1cblxuICAvKipcbiAgICogVXNlIHdpdGggYEFuaW1hdGVkLnBhcmFsbGVsKClgIHRvIGNyZWF0ZSBhIHNpbXBsZSBlZmZlY3Qgd2hlcmUgdGhlIG9iamVjdFxuICAgKiBhbmltYXRlcyBiYWNrIHNsaWdodGx5IGFzIHRoZSBhbmltYXRpb24gc3RhcnRzLlxuICAgKlxuICAgKiBXb2xmcmFtIFBsb3Q6XG4gICAqXG4gICAqIC0gaHR0cDovL3RpbnkuY2MvYmFja19kZWZhdWx0IChzID0gMS43MDE1OCwgZGVmYXVsdClcbiAgICovXG4gIHN0YXRpYyBiYWNrKHM6IG51bWJlciA9IDEuNzAxNTgpOiAodDogbnVtYmVyKSA9PiBudW1iZXIge1xuICAgIHJldHVybiB0ID0+IHQgKiB0ICogKChzICsgMSkgKiB0IC0gcyk7XG4gIH1cblxuICAvKipcbiAgICogUHJvdmlkZXMgYSBzaW1wbGUgYm91bmNpbmcgZWZmZWN0LlxuICAgKlxuICAgKiBodHRwOi8vZWFzaW5ncy5uZXQvI2Vhc2VJbkJvdW5jZVxuICAgKi9cbiAgc3RhdGljIGJvdW5jZSh0OiBudW1iZXIpOiBudW1iZXIge1xuICAgIGlmICh0IDwgMSAvIDIuNzUpIHtcbiAgICAgIHJldHVybiA3LjU2MjUgKiB0ICogdDtcbiAgICB9XG5cbiAgICBpZiAodCA8IDIgLyAyLjc1KSB7XG4gICAgICBjb25zdCB0MiA9IHQgLSAxLjUgLyAyLjc1O1xuICAgICAgcmV0dXJuIDcuNTYyNSAqIHQyICogdDIgKyAwLjc1O1xuICAgIH1cblxuICAgIGlmICh0IDwgMi41IC8gMi43NSkge1xuICAgICAgY29uc3QgdDIgPSB0IC0gMi4yNSAvIDIuNzU7XG4gICAgICByZXR1cm4gNy41NjI1ICogdDIgKiB0MiArIDAuOTM3NTtcbiAgICB9XG5cbiAgICBjb25zdCB0MiA9IHQgLSAyLjYyNSAvIDIuNzU7XG4gICAgcmV0dXJuIDcuNTYyNSAqIHQyICogdDIgKyAwLjk4NDM3NTtcbiAgfVxuXG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGN1YmljIGJlemllciBjdXJ2ZSwgZXF1aXZhbGVudCB0byBDU1MgVHJhbnNpdGlvbnMnXG4gICAqIGB0cmFuc2l0aW9uLXRpbWluZy1mdW5jdGlvbmAuXG4gICAqXG4gICAqIEEgdXNlZnVsIHRvb2wgdG8gdmlzdWFsaXplIGN1YmljIGJlemllciBjdXJ2ZXMgY2FuIGJlIGZvdW5kIGF0XG4gICAqIGh0dHA6Ly9jdWJpYy1iZXppZXIuY29tL1xuICAgKi9cbiAgc3RhdGljIGJlemllcihcbiAgICB4MTogbnVtYmVyLFxuICAgIHkxOiBudW1iZXIsXG4gICAgeDI6IG51bWJlcixcbiAgICB5MjogbnVtYmVyLFxuICApOiAodDogbnVtYmVyKSA9PiBudW1iZXIge1xuICAgIGNvbnN0IF9iZXppZXIgPSByZXF1aXJlKCcuL2JlemllcicpO1xuICAgIHJldHVybiBfYmV6aWVyKHgxLCB5MSwgeDIsIHkyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIGFuIGVhc2luZyBmdW5jdGlvbiBmb3J3YXJkcy5cbiAgICovXG4gIHN0YXRpYyBpbihlYXNpbmc6ICh0OiBudW1iZXIpID0+IG51bWJlcik6ICh0OiBudW1iZXIpID0+IG51bWJlciB7XG4gICAgcmV0dXJuIGVhc2luZztcbiAgfVxuXG4gIC8qKlxuICAgKiBSdW5zIGFuIGVhc2luZyBmdW5jdGlvbiBiYWNrd2FyZHMuXG4gICAqL1xuICBzdGF0aWMgb3V0KGVhc2luZzogKHQ6IG51bWJlcikgPT4gbnVtYmVyKTogKHQ6IG51bWJlcikgPT4gbnVtYmVyIHtcbiAgICByZXR1cm4gdCA9PiAxIC0gZWFzaW5nKDEgLSB0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBNYWtlcyBhbnkgZWFzaW5nIGZ1bmN0aW9uIHN5bW1ldHJpY2FsLiBUaGUgZWFzaW5nIGZ1bmN0aW9uIHdpbGwgcnVuXG4gICAqIGZvcndhcmRzIGZvciBoYWxmIG9mIHRoZSBkdXJhdGlvbiwgdGhlbiBiYWNrd2FyZHMgZm9yIHRoZSByZXN0IG9mIHRoZVxuICAgKiBkdXJhdGlvbi5cbiAgICovXG4gIHN0YXRpYyBpbk91dChlYXNpbmc6ICh0OiBudW1iZXIpID0+IG51bWJlcik6ICh0OiBudW1iZXIpID0+IG51bWJlciB7XG4gICAgcmV0dXJuIHQgPT4ge1xuICAgICAgaWYgKHQgPCAwLjUpIHtcbiAgICAgICAgcmV0dXJuIGVhc2luZyh0ICogMikgLyAyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIDEgLSBlYXNpbmcoKDEgLSB0KSAqIDIpIC8gMjtcbiAgICB9O1xuICB9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gRWFzaW5nO1xuIl19